<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Planning API Documentation</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #2c3e50; border-bottom: 3px solid #3498db; padding-bottom: 10px; }
        h2 { color: #10151a; margin-top: 30px; }
        h3 { color: #202442; }
        .endpoint {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
        }
        .query-example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
        }
        .response-example {
            background: #075c80a4;
            color: white;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
        }
        .parameter {
            background: #13456cba;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
        .type {
            background: #73b9fac6;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
        .nav {
            background: #34495e;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .nav a {
            color: white;
            text-decoration: none;
            margin-right: 20px;
            padding: 5px 10px;
            border-radius: 3px;
            transition: background 0.3s;
        }
        .nav a:hover {
            background: #2c3e50;
        }
        .playground-link {
            background: #075284;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            display: inline-block;
            margin: 10px 0;
            font-weight: bold;
        }
        .playground-link:hover {
            background: #2980b9;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .score-badge {
            padding: 2px 8px;
            border-radius: 10px;
            color: white;
            font-size: 12px;
        }
        .excellent { background: #27ae60; }
        .good { background: #f39c12; }
        .fair { background: #e67e22; }
        .poor { background: #e74c3c; }
    </style>
</head>
<body>
    <div class="container">
        <h1> Travel Planning GraphQL API</h1>
        
        <div class="nav">
            <a href="#overview">Overview</a>
            <a href="#endpoints">Endpoints</a>
            <a href="#types">Data Types</a>
            <a href="#scoring">Scoring</a>
            <a href="#examples">Examples</a>
        </div>

        <a href="/graphql" class="playground-link">Open GraphQL Playground</a>

        <div id="overview">
            <h2>API Overview</h2>
            <p>The Travel Planning GraphQL API provides comprehensive weather data and intelligent activity recommendations for travel planning. Access real-time weather information and get personalized suggestions based on current conditions.</p>
            
            <div class="endpoint">
                <h3>Endpoints</h3>
                <ul>
                    <li><strong>GraphQL API:</strong> <code>/graphql</code></li>
                    <li><strong>Health Check:</strong> <code>/health</code></li>
                    <li><strong>Documentation:</strong> <code>/docs</code> (this page)</li>
                </ul>
            </div>
        </div>

        <div id="endpoints">
            <h2>API Endpoints</h2>

            <div class="endpoint">
                <h3>1. Search Cities</h3>
                <p><strong>Query:</strong> <span class="parameter">searchCities</span></p>
                <p>Search for cities worldwide by name to get coordinates and metadata. Results are filtered to include only locations with valid country information (excludes continents, regions, etc.).</p>
                
                <h4>Parameters:</h4>
                <ul>
                    <li><span class="parameter">query</span> <span class="type">String!</span> - Search term for city name (min 1 char, 2+ recommended)</li>
                </ul>

                <h4>Example Query:</h4>
                <div class="query-example">
query {
  searchCities(query: "London") {
    id
    name
    country
    latitude
    longitude
    population
    timezone
  }
}
                </div>

                <h4>Example Response:</h4>
                <div class="response-example">
{
  "data": {
    "searchCities": [
      {
        "id": "2643743",
        "name": "London",
        "country": "United Kingdom", 
        "latitude": 51.5074,
        "longitude": -0.1278,
        "population": 8982000,
        "timezone": "Europe/London"
      }
    ]
  }
}
                </div>
            </div>

            <div class="endpoint">
                <h3>2. Get Weather</h3>
                <p><strong>Query:</strong> <span class="parameter">getWeather</span></p>
                <p>Get current weather conditions and 7-day forecast for any location.</p>
                
                <h4>Parameters:</h4>
                <ul>
                    <li><span class="parameter">latitude</span> <span class="type">Float!</span> - Geographic latitude (-90.0 to 90.0)</li>
                    <li><span class="parameter">longitude</span> <span class="type">Float!</span> - Geographic longitude (-180.0 to 180.0)</li>
                </ul>

                <h4>Example Query:</h4>
                <div class="query-example">
query {
  getWeather(latitude: 51.5074, longitude: -0.1278) {
    current {
      temperature
      condition
      humidity
      windSpeed
      uvIndex
      visibility
    }
    forecast {
      date
      maxTemperature
      minTemperature
      condition
      precipitationProbability
    }
  }
}
                </div>
            </div>

            <div class="endpoint">
                <h3>3. Get Activity Recommendations</h3>
                <p><strong>Query:</strong> <span class="parameter">getActivityRecommendations</span></p>
                <p>Get personalized activity recommendations based on current weather, ranked by suitability.</p>
                
                <h4>Parameters:</h4>
                <ul>
                    <li><span class="parameter">latitude</span> <span class="type">Float!</span> - Geographic latitude (-90.0 to 90.0)</li>
                    <li><span class="parameter">longitude</span> <span class="type">Float!</span> - Geographic longitude (-180.0 to 180.0)</li>
                </ul>

                <h4>Example Query:</h4>
                <div class="query-example">
query {
  getActivityRecommendations(latitude: 51.5074, longitude: -0.1278) {
    type
    score
    reason
  }
}
                </div>
            </div>
        </div>

        <div id="types">
            <h2>Data Types</h2>
            
            <h3>Activity Types</h3>
            <table>
                <tr><th>Type</th><th>Description</th><th>Best Conditions</th></tr>
                <tr><td><code>SKIING</code></td><td>Snow sports and winter activities</td><td>Cold, snowy/clear, light winds</td></tr>
                <tr><td><code>SURFING</code></td><td>Water sports and ocean activities</td><td>Warm, clear, moderate winds</td></tr>
                <tr><td><code>INDOOR_SIGHTSEEING</code></td><td>Museums, galleries, shopping</td><td>Poor outdoor weather</td></tr>
                <tr><td><code>OUTDOOR_SIGHTSEEING</code></td><td>Parks, monuments, walking</td><td>Comfortable temp, good visibility</td></tr>
            </table>
        </div>

        <div id="scoring">
            <h2>Activity Scoring System</h2>
            <p>Activity recommendations use a 0-100 scoring system:</p>
            
            <table>
                <tr><th>Score Range</th><th>Rating</th><th>Description</th></tr>
                <tr><td><span class="score-badge excellent">90-100</span></td><td>Excellent</td><td>Highly recommended, ideal conditions</td></tr>
                <tr><td><span class="score-badge good">70-89</span></td><td>Good</td><td>Recommended, good conditions</td></tr>
                <tr><td><span class="score-badge fair">50-69</span></td><td>Fair</td><td>Acceptable conditions</td></tr>
                <tr><td><span class="score-badge poor">30-49</span></td><td>Poor</td><td>Not recommended</td></tr>
                <tr><td><span class="score-badge poor">0-29</span></td><td>Very Poor</td><td>Avoid, unsuitable conditions</td></tr>
            </table>
        </div>

        <div id="examples">
            <h2>Complete Example</h2>
            <p>Here's a complete travel planning query that combines all endpoints:</p>
            
            <div class="query-example">
query TravelPlanning($cityQuery: String!, $lat: Float!, $lng: Float!) {
  # Search for cities
  cities: searchCities(query: $cityQuery) {
    id
    name
    country
    latitude
    longitude
  }
  
  # Get weather for location  
  weather: getWeather(latitude: $lat, longitude: $lng) {
    current {
      temperature
      condition
      humidity
      windSpeed
    }
    forecast {
      date
      maxTemperature
      minTemperature
      condition
    }
  }
  
  # Get activity recommendations
  activities: getActivityRecommendations(latitude: $lat, longitude: $lng) {
    type
    score
    reason
  }
}
            </div>

            <h4>Variables:</h4>
            <div class="response-example">
{
  "cityQuery": "Paris",
  "lat": 48.8566,
  "lng": 2.3522
}
            </div>
        </div>

        <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; color: #7f8c8d;">
            <p><strong>Ready to get started?</strong> <a href="/graphql" class="playground-link">Open GraphQL Playground</a></p>
            <p>For detailed schema documentation, use the "Docs" panel in the GraphQL Playground interface.</p>
        </div>
    </div>
</body>
</html>
